


  server {
    listen $PORT default_server;
    charset c.utf-8; #matches what is defined for the flask service env


    location /api/ {

            #rewrite ^/api/(.*)$ $1 break;
            ### This removes /api/ from the path then passes onward.
            ### But since all flask endpoints start with '/api/' then this isn't needed unless we decide to change this pattern.

            root /;

            #this server name is generated by Docker for the backend service, as <stackname>_<servicename>
            proxy_pass http://0.0.0.0:5000;



        }

    location / {
        root   /usr/share/nginx/html/;
        index  index.html index.htm;
    }

}
